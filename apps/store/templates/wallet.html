{% extends "core/base.html" %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'statics/css/6097ac6aa8-walletpage_css.css' %}">
        
{% comment %} <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"> {% endcomment %}

        <div id="app" data-country="214" class="">

            <div id="walletpage" class="wrapper portemonnee-page  " data-user-test-requirements="false" data-test-label="Popup shown">
                <article id="content" class="content-wrapper">
                    <div id="main-section" class="section-wrapper content-attention">
                        <section class="section-entry-header">
                            <h1>Wallet</h1>
                            <p>Your wallet overview and history</p>
                        </section>
                        <style>
                            .paddingcls{
                            padding: 5px;
                             width: -webkit-fill-available;
                            }
                            input{
                                border: 2px solid #d1ebfb;
                            }
                        </style>

                        <section class="section-wallet-stuvia">
                            <div class="listing-ballance listing-ballance-portemonnee no-mb">
                                <form method="POST" action=".">
                                    {% csrf_token %}
                                <div class="listing-item ballance-item-dekstop" style="justify-content: space-between;">
                                    <div class="form-group">
                                      <label for="username">UserName:</label>
                                      <input type="text" 
                                        class="form-control paddingcls" name="username" id="username" aria-describedby="helpId" placeholder="e.g: Jhon Deo">
                                    </div>
                                    <div class="form-group">
                                        <label for="email">Email:</label>
                                        <input type="text"
                                          class="form-control paddingcls" name="email" id="email" aria-describedby="helpId" placeholder="abc@xyz.com">
                                      </div>
                                      <div class="form-group">
                                        <label for="acc_type">Acc Type:</label>
                                        <select class="paddingcls" name="acc_type" id="acc_type" style="border: 2px solid #d1ebfb;">
                                            {% for withdraw in withdraw_type %}
                                            <option value="{{withdraw.withdraw_type}}">{{withdraw.withdraw_type}}</option>
                                            {% endfor %}
                                          </select>
                                        {% comment %} <input type="text"
                                          class="form-control paddingcls" name="acc_type" id="acc_type" aria-describedby="helpId" placeholder="e.g: Paypal, Skill, Wire"> {% endcomment %}
                                      </div>
                                </div>
                                <div class="listing-item ballance-item-dekstop">
                                    <h3 class="title-ballance">Balance</h3>
                                    <span class="value-ballance">${{order_earn}}</span>
                                    <span class="value-ballance"> <input type="number" max="{{order_earn}}" id='amount_withdraw1' name='amount_withdraw' style="text-align: end;width: 110px;"> </span>
                                    <button type='submit' id='payout-ballance1' class="payout-ballance btn-disabled">
                                    Withdraw Money
                                    </button>
                                </div>
                                </form>
                                <form method="POST" action=".">
                                    {% csrf_token %}
                                <div class="listing-item ballance-item-mobile" style="justify-content: space-between;">
                                    <div class="form-group">
                                      <label for="username">UserName:</label>
                                      <input type="text" style="width: -webkit-fill-available;"
                                        class="form-control paddingcls" name="username" id="username" aria-describedby="helpId" placeholder="e.g: Jhon Deo">
                                    </div>
                                    <div class="form-group">
                                        <label for="email">Email:</label>
                                        <input type="text" style="width: -webkit-fill-available;"
                                          class="form-control paddingcls" name="email" id="email" aria-describedby="helpId" placeholder="abc@xyz.com">
                                      </div>
                                      <div class="form-group">
                                        <label for="acc_type">Acc Type:</label>
                                        <select class="paddingcls" name="acc_type" id="acc_type" style="border: 2px solid #d1ebfb;">
                                            {% for withdraw in withdraw_type %}
                                            <option value="{{withdraw.withdraw_type}}">{{withdraw.withdraw_type}}</option>
                                            {% endfor %}
                                          </select>
                                        {% comment %} <input type="text" style="width: -webkit-fill-available;"
                                          class="form-control paddingcls" name="acc_type" id="acc_type" aria-describedby="helpId" placeholder="e.g: Paypal, Skill, Wire"> {% endcomment %}
                                      </div>
                                </div>
                                <div class="listing-item ballance-item-mobile">
                                    <h3 class="title-ballance">Balance</h3>
                                    <span class="value-ballance">${{order_earn}}</span>
                                </div>
                                <div class="listing-item ballance-item-mobile">
                                    <h3 class="title-ballance">Withdraw</h3>
                                    <span class="value-ballance"> <input type="number" max="{{order_earn}}" id='amount_withdraw2' name='amount_withdraw' style="text-align: end;width: 110px;"> </span>
                                </div>
                                <div class="listing-item ballance-item-mobile last-listing ">
                                    <button type='submit' id='payout-ballance2' class="payout-ballance btn-disabled">
                                    Withdraw Money
                                    </button>
                                </div>
                                </form>
                            </div>
                        </section>
                    
                        {% comment %} <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script> {% endcomment %}
                        <script>
                            // Get references to the input fields and buttons
var input1 = document.getElementById('amount_withdraw1');
var input2 = document.getElementById('amount_withdraw2');
var button1 = document.getElementById('payout-ballance1');
var button2 = document.getElementById('payout-ballance2');

// Attach event listener to the input field 1
input1.addEventListener('input', function() {
    var inputValue = parseFloat(this.value);
    // Update value of input field 2 to match input field 1
    input2.value = inputValue;
    // Call function to handle button state for button 1
    handleButtonState(button1, inputValue);
    // Call function to handle button state for button 2
    handleButtonState(button2, inputValue);
});

// Attach event listener to the input field 2
input2.addEventListener('input', function() {
    var inputValue = parseFloat(this.value);
    // Update value of input field 1 to match input field 2
    input1.value = inputValue;
    // Call function to handle button state for button 1
    handleButtonState(button1, inputValue);
    // Call function to handle button state for button 2
    handleButtonState(button2, inputValue);
});

// Function to handle enabling/disabling and adding/removing btn-disabled class for buttons
function handleButtonState(button, inputValue) {
    // If input value is less than 10 or NaN, disable the button and add btn-disabled class
    if (inputValue < 10 || isNaN(inputValue)) {
        button.disabled = true;
        button.classList.add('btn-disabled');
    } else {
        // If input value is greater than or equal to 10, enable the button and remove btn-disabled class
        button.disabled = false;
        button.classList.remove('btn-disabled');
    }
}

                        </script>
                        {% if withdraw_table %}
                        <section class="section-wallet-stuvia">
                            <style>
                                table {
                                    border-collapse: collapse;
                                    border-spacing: 0;
                                    width: 100%;
                                    border: 1px solid #ddd;
                                  }
                                  
                                  th, td {
                                    text-align: left;
                                    padding: 8px;
                                  }
                                  
                                  tr:nth-child(even){background-color: #f2f2f2}
                                </style>
                                
                                <h3>Withdraw History Table</h3>
                                <div style="overflow-x:auto;">
                                <table>
                                  <tr>
                                    <th>Username</th>
                                    <th>Email</th>
                                    <th>Acc_Type</th>
                                    <th>Status</th>
                                    <th>Amount_Withdraw</th>
                                  </tr>
                                  {% for table in withdraw_table %}
                                  <tr>
                                    <td>{{table.username}}</td>
                                    <td>{{table.email}}</td>
                                    <td>{{table.acc_type}}</td>
                                    <td>{{table.status}}</td>
                                    <td>{{table.amount_withdraw}}</td>
                                  </tr>
                                  {% endfor %}
                                </table>
                            </div> 
                        </section> 
                        {% endif %}   
                        <div class="empty-state-page pitch-block">
                            <div class="make-summaries">
                                <section class="section-content-swapblock section-content-startsell section-content-swapblock-reverse">
                                    <div class="swapblock-image small-image">
                                        <img src=" {% static 'statics/img/wallet.jpg' %} " alt="Start Selling Today" style="border-radius: 104px 13px;">
                                    </div>
                                    <div class="swapblock-content">
                                        <h1 class="title-section">Do you write study notes yourself? </h1>
                                        <p>Have you written loads of study guides or do you write a lot of notes? On Stuvia, you can sell your study work in a jiffy. Upload your document(s), determine your own price and earn money each time you sell your document(s). Just think about it, you can finally kiss that dreary part-time job goodbye!</p>
                                        <a href=" {% url "uploads" %}" class="swapblock-cta">Upload Now</a>
                                        <a href=" {% url "sell-study-notes" %}" class="swapblock-cta-more">Tell me more</a>
                                    </div>
                                </section>
                            </div>
                        </div>
                    </div>
                </article>
            </div>
 
        </div>
        <script defer="" type="text/javascript" src=" {% static 'statics/js/c38bfd2f53-app.js' %}"></script>
        {% comment %} <script defer="" type="text/javascript" src=" {% static 'statics/js/d0c75c3aff-wallet.js' %}"></script> {% endcomment %}
       
    
{% endblock content %}